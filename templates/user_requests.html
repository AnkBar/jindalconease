{% extends "base.html" %}

     {% block title %}Manage User Requests{% endblock %}

     {% block content %}
     <div class="container mt-5">
         <h2 class="text-center mb-4">Pending User Requests</h2>
         {% with messages = get_flashed_messages(with_categories=true) %}
             {% if messages %}
                 {% for category, message in messages %}
                     <div class="alert alert-{{ category }}" role="alert">
                         {{ message }}
                     </div>
                 {% endfor %}
             {% endif %}
         {% endwith %}
         {% if pending_users %}
             <table class="table table-striped">
                 <thead>
                     <tr>
                         <th>ID</th>
                         <th>Username</th>
                         <th>Email</th>
                         <th>Created At</th>
                         <th>Actions</th>
                     </tr>
                 </thead>
                 <tbody>
                     {% for user in pending_users %}
                         <tr>
                             <td>{{ user[0] }}</td>
                             <td>{{ user[1] }}</td>
                             <td>{{ user[2] }}</td>
                             <td>{{ user[3] }}</td>
                             <td>
                                 <a href="{{ url_for('approve_user', user_id=user[0]) }}" class="btn btn-success btn-sm">Approve</a>
                                 <a href="{{ url_for('reject_user', user_id=user[0]) }}" class="btn btn-danger btn-sm">Reject</a>
                             </td>
                         </tr>
                     {% endfor %}
                 </tbody>
             </table>
         {% else %}
             <p class="text-center">No pending user requests.</p>
         {% endif %}
     </div>
     {% endblock %}